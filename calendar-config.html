<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="tianyi.liang">
  <title>SPX Helper - Google Calendar é…ç½®</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
      margin: 0;
    }

    .config-container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }

    .config-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      text-align: center;
    }

    .config-header h1 {
      margin: 0 0 10px 0;
      font-size: 28px;
    }

    .config-header p {
      margin: 0;
      opacity: 0.9;
      font-size: 14px;
    }

    .config-content {
      padding: 40px;
    }

    .step-section {
      margin-bottom: 40px;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 12px;
      border-left: 4px solid #667eea;
    }

    .step-section h2 {
      margin: 0 0 15px 0;
      color: #333;
      font-size: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .step-number {
      background: #667eea;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 16px;
    }

    .step-description {
      color: #666;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .info-box {
      background: white;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #dee2e6;
      margin: 15px 0;
    }

    .info-label {
      font-size: 12px;
      color: #888;
      margin-bottom: 5px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .info-value {
      font-family: 'Monaco', monospace;
      font-size: 14px;
      color: #333;
      background: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      word-break: break-all;
      user-select: all;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
      font-size: 14px;
    }

    .form-group input {
      width: 100%;
      padding: 12px;
      border: 2px solid #dee2e6;
      border-radius: 8px;
      font-size: 14px;
      font-family: 'Monaco', monospace;
      transition: border-color 0.3s;
      box-sizing: border-box;
    }

    .form-group input:focus {
      outline: none;
      border-color: #667eea;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: #e9ecef;
      color: #333;
    }

    .btn-secondary:hover {
      background: #dee2e6;
    }

    .btn-success {
      background: #28a745;
      color: white;
    }

    .btn-copy {
      padding: 8px 12px;
      font-size: 12px;
      margin-left: 10px;
    }

    .status-message {
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      display: none;
    }

    .status-message.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .status-message.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .status-message.info {
      background: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }

    .external-link {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
    }

    .external-link:hover {
      color: #764ba2;
    }

    .steps-guide {
      background: #fff3cd;
      border: 1px solid #ffc107;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
    }

    .steps-guide h3 {
      margin: 0 0 15px 0;
      color: #856404;
      font-size: 18px;
    }

    .steps-guide ol {
      margin: 0;
      padding-left: 25px;
    }

    .steps-guide li {
      margin-bottom: 10px;
      color: #856404;
      line-height: 1.6;
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .config-footer {
      background: #f8f9fa;
      padding: 20px;
      text-align: center;
      color: #666;
      font-size: 13px;
      border-top: 1px solid #dee2e6;
    }
  </style>
</head>
<body>
  <div class="config-container">
    <div class="config-header">
      <h1>ğŸ“… Google Calendar é…ç½®</h1>
      <p>é…ç½® OAuth ä»¥è®¿é—®æ‚¨çš„ Google Calendar</p>
    </div>

    <div class="config-content">
      <!-- é…ç½®å‘å¯¼ -->
      <div class="steps-guide">
        <h3>ğŸ“‹ é…ç½®å‘å¯¼</h3>
        
        <div style="margin-bottom: 15px; padding: 10px; background: #e3f2fd; border-radius: 6px; border-left: 4px solid #2196f3;">
          <strong>ğŸ’¡ å¦‚æœæ‚¨å·²æœ‰ OAuth å®¢æˆ·ç«¯ï¼š</strong>
          <ol style="margin: 10px 0 0 0; padding-left: 25px;">
            <li>å¤åˆ¶ä¸‹é¢çš„æ‰©å±• ID</li>
            <li>åœ¨ Google Cloud Console â†’ APIå’ŒæœåŠ¡ â†’ å‡­æ® â†’ ç¼–è¾‘æ‚¨çš„ OAuth å®¢æˆ·ç«¯</li>
            <li>æ›´æ–°"åº”ç”¨ ID"ä¸ºä¸‹é¢æ˜¾ç¤ºçš„æ‰©å±• ID</li>
            <li>å°† Client ID ç²˜è´´åˆ°ä¸‹æ–¹è¾“å…¥æ¡†</li>
            <li>ç‚¹å‡»ä¿å­˜é…ç½®</li>
          </ol>
        </div>
        
        <div style="margin-top: 15px; padding: 10px; background: #fff3cd; border-radius: 6px; border-left: 4px solid #ffc107;">
          <strong>ğŸ†• å¦‚æœæ‚¨è¿˜æ²¡æœ‰ OAuth å®¢æˆ·ç«¯ï¼š</strong>
          <ol style="margin: 10px 0 0 0; padding-left: 25px;">
            <li>è®°å½•ä¸‹é¢æ˜¾ç¤ºçš„æ‰©å±• ID</li>
            <li>ç‚¹å‡»æŒ‰é’®è®¿é—® Google Cloud Console</li>
            <li>åˆ›å»ºé¡¹ç›®å¹¶å¯ç”¨ Calendar API</li>
            <li>åˆ›å»º OAuth å®¢æˆ·ç«¯ IDï¼ˆä½¿ç”¨æ‰©å±• IDï¼‰</li>
            <li>å°†è·å–çš„ Client ID å¡«å…¥ä¸‹æ–¹è¡¨å•</li>
            <li>ç‚¹å‡»ä¿å­˜é…ç½®</li>
          </ol>
        </div>
      </div>

      <!-- æ­¥éª¤ 1: æ‰©å±• ID -->
      <div class="step-section">
        <h2>
          <span class="step-number">1</span>
          æ‰©å±• ID
        </h2>
        <div class="step-description">
          è¿™æ˜¯æ‚¨çš„æ‰©å±•çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåœ¨åˆ›å»º OAuth å®¢æˆ·ç«¯æ—¶éœ€è¦ä½¿ç”¨ã€‚
        </div>
        <div class="info-box">
          <div class="info-label">Extension ID</div>
          <div class="info-value" id="extensionId">åŠ è½½ä¸­...</div>
        </div>
        <button class="btn btn-secondary btn-copy" id="copyExtensionIdBtn">ğŸ“‹ å¤åˆ¶ ID</button>
      </div>

      <!-- æ­¥éª¤ 2: Google Cloud Console -->
      <div class="step-section">
        <h2>
          <span class="step-number">2</span>
          Google Cloud Console é…ç½®
        </h2>
        <div class="step-description">
          <strong>é€‰æ‹©æ‚¨çš„æƒ…å†µï¼š</strong>
        </div>
        
        <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
          <strong>âœ… æƒ…å†µ A: å·²æœ‰ OAuth å®¢æˆ·ç«¯ï¼ˆå¿«é€Ÿé…ç½®ï¼‰</strong>
          <p style="margin: 10px 0; color: #0c5460;">å¦‚æœæ‚¨å·²ç»åˆ›å»ºäº† OAuth å®¢æˆ·ç«¯ IDï¼Œåªéœ€è¦æ›´æ–°åº”ç”¨ IDï¼š</p>
          <ol style="margin: 0; padding-left: 20px; color: #0c5460;">
            <li>è®¿é—® <a href="https://console.cloud.google.com/apis/credentials" target="_blank" class="external-link">å‡­æ®é¡µé¢</a></li>
            <li>æ‰¾åˆ°æ‚¨çš„ OAuth å®¢æˆ·ç«¯ï¼Œç‚¹å‡»ç¼–è¾‘ï¼ˆâœï¸ é“…ç¬”å›¾æ ‡ï¼‰</li>
            <li>å°†"åº”ç”¨ ID"å­—æ®µæ›´æ–°ä¸ºä¸Šé¢æ˜¾ç¤ºçš„æ‰©å±• ID</li>
            <li>ä¿å­˜æ›´æ”¹</li>
            <li>è·³è½¬åˆ°ä¸‹æ–¹"æ­¥éª¤ 3"è¾“å…¥ Client ID</li>
          </ol>
        </div>
        
        <div style="background: #fff3cd; padding: 15px; border-radius: 8px;">
          <strong>ğŸ†• æƒ…å†µ B: é¦–æ¬¡é…ç½®ï¼ˆå®Œæ•´æµç¨‹ï¼‰</strong>
          <p style="margin: 10px 0; color: #856404;">å¦‚æœæ‚¨è¿˜æ²¡æœ‰åˆ›å»º OAuth å®¢æˆ·ç«¯ï¼Œéœ€è¦å®Œæ•´é…ç½®ï¼š</p>
          <div class="button-group" style="margin-top: 10px;">
            <button class="btn btn-primary" id="openCloudConsoleBtn">
              ğŸ”— æ‰“å¼€ Cloud Console
            </button>
            <button class="btn btn-secondary" id="openGuideBtn">
              ğŸ“– æŸ¥çœ‹è¯¦ç»†æ•™ç¨‹
            </button>
          </div>
        </div>
      </div>

      <!-- æ­¥éª¤ 3: Client ID é…ç½® -->
      <div class="step-section">
        <h2>
          <span class="step-number">3</span>
          è¾“å…¥ OAuth Client ID
        </h2>
        <div class="step-description">
          å°†ä» Google Cloud Console è·å–çš„ Client ID ç²˜è´´åˆ°ä¸‹æ–¹ã€‚
        </div>
        
        <div class="form-group">
          <label for="clientId">Client ID *</label>
          <input 
            type="text" 
            id="clientId" 
            placeholder="123456789-abcdefg.apps.googleusercontent.com"
            value=""
          >
        </div>

        <div class="button-group">
          <button class="btn btn-primary" id="saveConfigBtn">
            ğŸ’¾ ä¿å­˜é…ç½®
          </button>
          <button class="btn btn-secondary" id="testAuthBtn">
            ğŸ”‘ æµ‹è¯•æˆæƒ
          </button>
          <button class="btn btn-secondary" id="clearConfigBtn">
            ğŸ—‘ï¸ æ¸…é™¤é…ç½®
          </button>
        </div>
      </div>

      <!-- çŠ¶æ€æ¶ˆæ¯ -->
      <div id="statusMessage" class="status-message"></div>

      <!-- å½“å‰é…ç½®çŠ¶æ€ -->
      <div class="step-section">
        <h2>
          <span class="step-number">âœ“</span>
          å½“å‰é…ç½®çŠ¶æ€
        </h2>
        <div class="info-box">
          <div class="info-label">Client ID</div>
          <div class="info-value" id="currentClientId">æœªé…ç½®</div>
        </div>
        <div class="info-box">
          <div class="info-label">é…ç½®çŠ¶æ€</div>
          <div class="info-value" id="configStatus">ç­‰å¾…é…ç½®...</div>
        </div>
      </div>
    </div>

    <div class="config-footer">
      <p>SPX Helper v2.2.0 | ä½œè€…: tianyi.liang</p>
      <p>é…ç½®å®Œæˆåï¼Œè¿”å›æ‰©å±•ä¸»é¡µé¢å³å¯ä½¿ç”¨æ—¥å†åŠŸèƒ½</p>
    </div>
  </div>

  <script src="calendar-config.js"></script>
</body>
</html>

