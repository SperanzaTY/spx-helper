# API 响应字段高亮功能

## 功能说明

在查看 API 响应详情时，**自动高亮显示匹配的字段**，让你一眼看出数据在响应中的具体位置。

## 使用方法

### 1. 触发查找
```
选择页面文字 → 点击 "🔍 查找来源"
```

### 2. 查看响应
```
数据来源面板 → 点击 "查看响应" 按钮
```

### 3. 查看高亮
- 🟡 **金黄色高亮** = 匹配的值
- 🟢 **青色高亮** = 匹配值所在的键名
- 📍 **路径列表** = 顶部显示所有匹配字段的完整路径

## 示例

### 场景：查找订单金额 `279.816`

#### 步骤 1：选择金额
```
页面上选择 "279.816"
```

#### 步骤 2：找到来源
```
🔍 查找来源 → 找到 API: /api_mart/order/detail
```

#### 步骤 3：查看高亮响应
```
📍 匹配字段：
  - data.order.amount = 279.816
  - data.payment.total = 279.816

JSON 响应（已高亮）：
{
  "data": {
    "order": {
      "id": "SPX123456",
      "amount": ⭐ 279.816 ⭐  ← 金黄色高亮
    },
    "payment": {
      "total": ⭐ 279.816 ⭐  ← 金黄色高亮
    }
  }
}
```

## 高亮规则

| 类型 | 高亮颜色 | 说明 |
|------|----------|------|
| **匹配的值** | 🟡 金黄色 | 你搜索的文本所在的值 |
| **匹配的键** | 🟢 青色 | 包含匹配值的键名 |
| 字符串 | 🟠 橙色 | 普通字符串值 |
| 数字 | 🟢 绿色 | 普通数字值 |
| 布尔值 | 🔵 蓝色 | true/false |
| null | 🔵 蓝色 | null 值 |
| 键名 | 🔵 亮蓝 | JSON 对象的键 |

## 路径表示

### 对象路径
```json
data.user.name  →  { data: { user: { name: "..." } } }
```

### 数组路径
```json
data.list[0].id  →  { data: { list: [ { id: "..." } ] } }
```

### 混合路径
```json
data.orders[2].items[0].price
```

## 优势

### ✅ 快速定位
无需手动搜索，一眼看出数据位置

### ✅ 多处匹配
如果同一个值出现在多个字段，全部高亮显示

### ✅ 深层嵌套
支持任意深度的 JSON 结构（最多 10 层）

### ✅ 数组支持
清晰显示数组索引位置

### ✅ 专业视觉
VS Code 风格的语法高亮 + 深色主题

## 技术细节

### 路径追踪算法
```javascript
// 递归遍历 JSON，记录每个值的路径
data.list[0].amount  // 路径
279.816             // 匹配的值
```

### 高亮渲染
```javascript
// 对比当前路径与匹配路径
if (currentPath === matchPath) {
  return `<span class="highlight">${value}</span>`;
}
```

### 性能优化
- 深度限制：最多遍历 10 层
- 路径缓存：使用 Set 快速查找
- 增量渲染：只处理可见部分

## 版本信息

- **功能版本**: v2.13.1
- **依赖版本**: v2.13.0+
- **发布日期**: 2024

## 相关文档

- `QUICK_START_v2.13.0.md` - 快速启动指南
- `API_TRACKER_SETTINGS_GUIDE.md` - 设置指南
- `RELEASE_NOTES_v2.13.0.md` - 发布说明
