# API 溯源工具 - 设置指南

## 功能位置
📍 **扩展弹窗** → **🔧 实用工具** → **App 工具** → **🔍 API 数据溯源** → **⚙️ 功能设置**

---

## 设置项说明

### 1️⃣ 文本选取查找开关

**功能说明：**  
控制是否在页面上选择文字时显示 "🔍 查找来源" 浮动按钮。

**默认状态：** ✅ 开启

**使用场景：**
- ✅ **开启**：需要频繁查找数据来源时
- ⏸️ **关闭**：日常工作不需要查找功能，避免浮动按钮干扰

**操作方式：**
1. 打开扩展弹窗
2. 进入 API 数据溯源工具
3. 在 "⚙️ 功能设置" 区域点击开关
4. 状态会立即同步到所有已打开的标签页

---

### 2️⃣ API 过滤条件

**功能说明：**  
自定义拦截哪些 API 请求，减少不必要的性能开销。

**默认值：** `api_mart`（只拦截包含 api_mart 的接口）

**配置示例：**
- `api_mart` - 只拦截包含 api_mart 的接口
- `api_mart, /api/` - 拦截包含 api_mart 或 /api/ 的接口
- `graphql, /api/v2/` - 拦截 GraphQL 和 v2 API
- 留空 - 拦截所有接口（不推荐，影响性能）

**操作步骤：**
1. 在输入框中填写过滤关键词（逗号分隔）
2. 点击 "💾 保存过滤条件" 按钮
3. 刷新页面让新配置生效

---

## 常见问题

**Q: 更改过滤条件后没有生效？**  
A: 需要刷新页面让 injected.js 重新加载并应用新配置。

**Q: 关闭文本选取功能后，浮动按钮还在？**  
A: 关闭功能后，当前显示的浮动按钮会立即隐藏。

**Q: 如何知道当前拦截了多少接口？**  
A: 查看 "已捕获 API 请求" 统计数字。

---

## 性能建议

### ⚡ 推荐配置（高性能）
`api_mart` - 只拦截核心业务接口

### ⚖️ 平衡配置（中等性能）
`api_mart, /api/v2/, /api/bff/` - 拦截多个关键模块

### 🐌 全量配置（低性能）
留空 - 拦截所有请求（仅用于临时全量分析）

---

## 更新日志

**v2.13.0**
- ✨ 新增文本选取功能开关
- ✨ 新增 API 过滤条件自定义
- 🎨 优化设置 UI，添加 toggle switch
